<!DOCTYPE html>
<html lang="en" data-ng-app="myApp">
<head>
    <meta charset="UTF-8">
    <title>ESD Search</title>
    <link rel="stylesheet" href="css/app.css" />
    <link rel="stylesheet" href="css/foundation.css" />
    <link rel="stylesheet" href="css/reveal.css" />

    <style>
        #state_label {
            width:33%;
        }
        #adv_search {
            display: none;
        }
        #results_disp {
            display: none;
        }
    </style>

</head>
<body >
<section ng-controller="ResponseController as resp">
    <div class="row" >
        <div class="medium-3 columns">
            <form id="searchForm">
            <label id="state_label">State
                <select name="state" id="state" ng-model="resp.stateSelect" ng-change="resp.getCities(resp.stateSelect)">
                    <option value="" selected="selected">NY</option>
                    <option ng-repeat="state in resp.states" value="{{state}}">{{state}}</option>
                </select>
            </label>
            <label>City
                <select name="town" id="town" ng-model="resp.citySelect" ng-change="resp.getOrgs()">
                    <option value="">--Please Select A City--</option>
                    <option ng-repeat="city in resp.cities" value="{{city}}">{{city}}</option>
                </select>
            </label>
            </form>
        </div>
        <div class="medium-3 columns">
            <form id="adv_search">
                <label>Organization Name
                    <input type="text" name="name" id="name" ng-model="nameQuery"/>
                </label>
                <label>County
                    <input type="text" ng-model="countyQuery" />
                </label>
                <label>Zip
                    <input type="text" ng-model="zipQuery" />
                </label>
                <label>Organization Type
                    <select ng-model="orgQuery">
                        <option value="">--Please Select Org. Type--</option>
                        <option ng-repeat="type in resp.optList" value="{{type}}">{{type}}</option>
                    </select>
                </label>
            </form>
        </div>
    </div>

    <div id="results_disp" class="row">
        <table>
            <tr>
                <th>Type</th>
                <th>Name</th>
                <th>City</th>
                <th>State</th>
                <th>Zip</th>
                <th>County</th>
            </tr>
            <tr ng-repeat="org in resp.orgsList | filter:{name:nameQuery, county:countyQuery, zip:zipQuery, type:orgQuery}"
                id="{{org.orgId}}" ng-click="resp.getTabs(org.orgId)" >

                    <td>{{org.type}}</td>
                    <td>{{org.name}}</td>
                    <td>{{org.city}}</td>
                    <td>{{org.state}}</td>
                    <td>{{org.zip}}</td>
                    <td>{{org.county}}</td>
            </tr>
        </table>
    </div>
    <a href="#" data-reveal-id="tabs_modal" class="radius button">Button</a>
        <div id="tabs_modal" class="reveal-modal" data-reveal aria-labelledby="modalTitle" aria-hidden="true" role="dialog">
            <h2 id="modalTitle">Awesome. I have it.</h2>
            <p class="lead">Your couch.  It is mine.</p>
            <p>I'm a cool paragraph that lives inside of an even cooler modal. Wins!</p>
            <a class="close-reveal-modal" aria-label="Close">&#215;</a>
        </div>
</section>

<script src="js/vendor/jquery.min.js"></script>
<script src="js/vendor/jquery.reveal.js" type="text/javascript"></script>
<!--<script src="js/vendor/what-input.min.js"></script>
<script src="js/foundation.min.js"></script>-->
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.8/angular.min.js"></script>
<script src="js/app.js"></script>
</body>
</html>